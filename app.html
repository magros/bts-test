<!DOCTYPE html>
<html>
<head>
    <title>Blue Trail Software - Test</title>
    <link href="https://unpkg.com/tailwindcss@^1.0/dist/tailwind.min.css" rel="stylesheet">
    <script src="https://cdn.jsdelivr.net/npm/vue"></script>
    <script src="https://unpkg.com/axios/dist/axios.min.js"></script>
</head>
<body class="bg-teal-400 my-10 text-gray-700">
<div id="app" class="md:w-2/5 m-auto p-2">
    <button class="bg-blue-500 hover:bg-blue-700 text-white font-bold py-2 px-4 rounded mb-5 float-right">
        Add invoice
    </button>
    <table class="table-auto w-full bg-white shadow-md">
        <thead class="text-gray-900">
        <tr>
            <th class="border px-4 py-2">Client</th>
            <th class="border px-4 py-2">Payment Method</th>
            <th class="border px-4 py-2">Invoice Details</th>
            <th class="border px-4 py-2">Article</th>
            <th class="border px-4 py-2">Total</th>
        </tr>
        </thead>
        <tbody>
        <tr v-for="(invoice, index) in invoices" :class="{'bg-gray-200': index % 2 === 0}">
            <td class="border px-4 py-2">{{invoice.client}}</td>
            <td class="border px-4 py-2">{{invoice.payment_method}}</td>
            <td class="border px-4 py-2">{{invoice.details}}</td>
            <td class="border px-4 py-2">{{invoice.article}}</td>
            <td class="border px-4 py-2">{{invoice.total}}</td>
        </tr>
        </tbody>
    </table>
</div>
<script type="application/javascript">

    var app = new Vue({
        el: '#app',
        data: {
            invoices: []
        },
        methods: {
            async retrieveInvoices() {
                const res = await axios.get('/api/invoices')
                this.invoices = res.data
            }
        },
        async mounted() {
            await this.retrieveInvoices()
        },
    })
</script>
</body>
</html>